!function(e){e.fn.cascadeSlider=function(s){const a=this,n=a.find(".cascade-slider__item"),d=a.find(".cascade-slider__arrow"),t=a.find(".history__list"),r=t.find(".history__item"),c=n.length;t.width(`calc(100% * ${c})`),r.width(`calc(100% / ${c})`);const i=r.length-1;r.eq(i).css({transform:`translateX(-${100*i}%)`}),r.eq(i).addClass("current"),l(i),d.on("click",function(){const s=e(this).data("action"),d=n.index(a.find(".now"));"next"===s?l(d===c-1?0:d+1):"prev"===s&&l(0===d?c-1:d-1)});for(let s=0;s<c;s+=1)e(".cascade-slider__item").each(function(s){e(this).attr("data-slide-number",s)});function l(e){a.find(".prev-prev").removeClass("prev-prev"),a.find(".prev").removeClass("prev"),a.find(".next-next").removeClass("next-next"),a.find(".next").removeClass("next"),a.find(".now").removeClass("now"),a.find(".current").css({transform:`translateX(-${100*c+1}%)`}),a.find(".current").removeClass("current"),0===e&&(n.eq(c-1).addClass("prev"),n.eq(c-2).addClass("prev-prev")),1===e&&(n.eq(0).addClass("prev"),n.eq(c-1).addClass("prev-prev")),e===c-2&&(n.eq(0).addClass("next-next"),n.eq(c-1).addClass("next")),e===c-1&&(n.eq(0).addClass("next"),n.eq(1).addClass("next-next")),n.each(function(s){s===e&&n.eq(s).addClass("now"),s===e-2&&n.eq(s).addClass("prev-prev"),s===e-1&&n.eq(s).addClass("prev"),s===e+2&&n.eq(s).addClass("next-next"),s===e+1&&n.eq(s).addClass("next")}),r.each(function(s){s===e&&(r.eq(s).addClass("current"),r.eq(s).css({transform:`translateX(-${100*s}%)`}))})}}}(jQuery),$("#cascade-slider").cascadeSlider();